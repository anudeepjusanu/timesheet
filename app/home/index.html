<!-- START BREADCRUMB -->
<ul class="breadcrumb">
    <li><a ui-sref="home">Home</a></li>
    <li class="active">Dashboard</li>
</ul>
<!-- END BREADCRUMB -->
<div class="page-content-wrap">
    <!-- START WIDGETS -->
    <div class="row">
        <div class="col-md-4">
            <!-- START WIDGET MESSAGES -->
            <div class="widget widget-default widget-item-icon" ui-sref="users">
                <div class="widget-item-left">
                    <span class="fa fa-user"></span>
                </div>
                <div class="widget-data">
                    <div class="widget-int num-count">{{vm.users.length}}</div>
                    <div class="widget-title">Employees</div>
                    <div class="widget-subtitle">In Wavelabs</div>
                </div>
            </div>
            <!-- END WIDGET MESSAGES -->
        </div>
        <div class="col-md-4">
            <!-- START WIDGET SLIDER -->
            <div class="widget widget-default widget-carousel">
                <div class="widget-title">Leaves</div>
                <table class="table" style="margin-bottom:-3px;">
                    <thead>
                        <tr>
                            <th>Accrued</th>
                            <th>Taken</th>
                            <th>LOP</th>
                            <th>Balance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{vm.leaveWalletBalance.accruedLeaves}}</td>
                            <td>{{vm.leaveWalletBalance.timeoffDays}}</td>
                            <td>{{vm.leaveWalletBalance.deductedLOP}}</td>
                            <td>{{vm.leaveWalletBalance.leaveBalance}}</td>
                        </tr>
                    </tbody>
                    
                </table>
                <div style="padding-bottom: 3px;float: right;">
                    <a  ui-sref="myLeaves">More details</a>
                </div>
            </div>
            <!-- END WIDGET SLIDER -->
        </div>
        <div class="col-md-4">
            <!-- START WIDGET CLOCK -->
            <div class="widget widget-info widget-padding-sm">
                <div class="widget-big-int plugin-clock">{{vm.date | date:'shortTime'}}</div>
                <div class="widget-subtitle plugin-date">{{vm.date | date: 'EEEE, MMMM d, yyyy'}}</div>
            </div>
            <!-- END WIDGET CLOCK -->
        </div>
    </div>
    <!-- END WIDGETS -->
    <div class="row">
        <div class="col-md-4">
            <!-- START VISITORS BLOCK -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-title-box">
                        <h3>Timesheet</h3>
                        <span>Capacity in hrs ({{vm.currentCapacity}})</span>
                    </div>
                </div>
                <div class="panel-body padding-0">
                    <canvas class="chart chart-pie" chart-colors="vm.hoursChart.colors" chart-options="vm.hoursChart.options" chart-data="vm.hoursChart.data" chart-labels="vm.hoursChart.labels">
                    </canvas>
                </div>
            </div>
            <!-- END VISITORS BLOCK -->
        </div>
        <div class="col-md-8">
            <!-- START PROJECTS BLOCK -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-title-box">
                        <h3>Projects</h3>
                        <span>Projects activity</span>
                    </div>
                </div>
                <div class="panel-body panel-body-table" style="height: 205px; overflow-y: scroll;">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="30%">Client</th>
                                    <th width="50%">Project</th>
                                    <th>People</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="project in vm.projects">
                                    <td><strong>{{project.clientName}}</strong></td>
                                    <td><strong>{{project.projectName}}</strong></td>
                                    <td><span class="label label-success">{{project.userCount}}</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- END PROJECTS BLOCK -->
        </div>
    </div>
    <div ng-if="vm.user.admin">
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Organization Head count and Working Hours</h3>
                            <span>Capacity</span>
                        </div>
                        <div class="panel-controls pull-right" style="width: 140px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.manpowerChart.weekDate" is-open="vm.manpowerChart.opened" datepicker-options="vm.dateOptions" ng-required="true" close-text="Close" ng-change="vm.getAllUserHoursByWeek();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.manpowerChart.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-pie" chart-colors="vm.manpowerChart.colors" chart-options="vm.manpowerChart.options" chart-data="vm.manpowerChart.data" chart-labels="vm.manpowerChart.labels">
                        </canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Project Head count and Working Hours</h3>
                            <span>Capacity</span>
                        </div>
                        <div class="panel-controls pull-right" style="width: 140px; margin-left: 10px">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.projectManpower.weekDate" is-open="vm.projectManpower.opened" datepicker-options="vm.dateOptions" ng-required="true" close-text="Close" ng-change="vm.getProjectUserHoursByWeek();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.projectManpower.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                        <div class="panel-controls pull-right" style="width: 200px;">
                            <select class="form-control" ng-model="vm.projectManpower.projectId" ng-options="project.projectId as project.projectName for project in vm.projects" ng-change="vm.getProjectUserHoursByWeek();" ></select>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-pie" chart-colors="vm.projectManpower.colors" chart-options="vm.projectManpower.options" chart-data="vm.projectManpower.data" chart-labels="vm.projectManpower.labels">
                        </canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Monthly Head Count</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                        <div class="panel-controls pull-right" style="width: 140px; margin-left: 10px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.monthHoursChart.weekDate" is-open="vm.monthHoursChart.opened" datepicker-options="vm.monthOptions" ng-required="true" close-text="Close" ng-change="vm.getAllUserHoursByMonth();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.monthHoursChart.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.monthHeadCountChart.colors" chart-options="vm.monthHeadCountChart.options" chart-data="vm.monthHeadCountChart.data" chart-labels="vm.monthHeadCountChart.labels" chart-series="vm.monthHeadCountChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Monthly Hours</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                        <div class="panel-controls pull-right" style="width: 140px; margin-left: 10px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.monthHoursChart.weekDate" is-open="vm.monthHoursChart.opened" datepicker-options="vm.monthOptions" ng-required="true" close-text="Close" ng-change="vm.getAllUserHoursByMonth();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.monthHoursChart.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.monthHoursChart.colors" chart-options="vm.monthHoursChart.options" chart-data="vm.monthHoursChart.data" chart-labels="vm.monthHoursChart.labels" chart-series="vm.monthHoursChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
            <!--<div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Project Monthly Hours</h3>
                            <span>Capacity</span>
                        </div>
                        <div class="panel-controls pull-right" style="width: 140px; margin-left: 10px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.projectMonthlyHours.weekDate" is-open="vm.projectMonthlyHours.opened" datepicker-options="vm.monthOptions" ng-required="true" close-text="Close" ng-change="vm.getProjectUserHoursByMonth();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.projectMonthlyHours.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                        <div class="panel-controls pull-right" style="width: 200px;">
                            <select class="form-control" ng-model="vm.projectMonthlyHours.projectId" ng-options="project.projectId as project.projectName for project in vm.projects" ng-change="vm.getProjectUserHoursByMonth();" ></select>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.projectMonthlyHours.colors" chart-options="vm.projectMonthlyHours.options" chart-data="vm.projectMonthlyHours.data" chart-labels="vm.projectMonthlyHours.labels" chart-series="vm.projectMonthlyHours.series">
                        </canvas>
                    </div>
                </div>
            </div>-->
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Utilization Monthly Head Count</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                        <!--<div class="panel-controls pull-right" style="width: 140px; margin-left: 10px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.monthHoursChart.weekDate" is-open="vm.monthHoursChart.opened" datepicker-options="vm.monthOptions" ng-required="true" close-text="Close" ng-change="vm.getAllUserHoursByMonth();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.monthHoursChart.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>-->
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.utzHeadCountChart.colors" chart-options="vm.utzHeadCountChart.options" chart-data="vm.utzHeadCountChart.data" chart-labels="vm.utzHeadCountChart.labels" chart-series="vm.utzHeadCountChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Utilization Monthly Hours</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                        <!--<div class="panel-controls pull-right" style="width: 140px; margin-left: 10px;">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup ng-model="vm.monthHoursChart.weekDate" is-open="vm.monthHoursChart.opened" datepicker-options="vm.monthOptions" ng-required="true" close-text="Close" ng-change="vm.getAllUserHoursByMonth();" readonly />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.monthHoursChart.opened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>-->
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.utzHoursChart.colors" chart-options="vm.utzHoursChart.options" chart-data="vm.utzHoursChart.data" chart-labels="vm.utzHoursChart.labels" chart-series="vm.utzHoursChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Utilization Enterprise Monthly Head Count</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.utilizationHeadCountChart.colors" chart-options="vm.utilizationHeadCountChart.options" chart-data="vm.utilizationHeadCountChart.data" chart-labels="vm.utilizationHeadCountChart.labels" chart-series="vm.utilizationHeadCountChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Utilization Enterprise Monthly Hours</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.utilizationHoursChart.colors" chart-options="vm.utilizationHoursChart.options" chart-data="vm.utilizationHoursChart.data" chart-labels="vm.utilizationHoursChart.labels" chart-series="vm.utilizationHoursChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title-box pull-left">
                            <h3>Utilization Organization Monthly Head Count</h3>
                            <span>{{vm.monthHoursChart.monthName}}</span>
                        </div>
                    </div>
                    <div class="panel-body padding-0">
                        <canvas class="chart chart-bar" chart-colors="vm.utzOrganizationHeadCountChart.colors" chart-options="vm.utzOrganizationHeadCountChart.options" chart-data="vm.utzOrganizationHeadCountChart.data" chart-labels="vm.utilizationHeadCountChart.labels" chart-series="vm.utzOrganizationHeadCountChart.series">
                        </canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">

            </div>
        </div>
        <div class="row">

        </div>
    </div>
</div>